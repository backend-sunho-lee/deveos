# Python으로 API 활용하기(4) - 주소록 API 만들기, GET

안녕하세요! [DEVEOS](https://deveos.org/)의 블록체인 개발자 써니입니다☀️



지난 시간에 새로운 데이터를 추가하는 POST 요청에 대해서 배웠습니다. 그럼 오늘은 새로 추가한 데이터를 조회하는 GET 요청을 해보도록 하겠습니다.





##GET

| CRUD                 | Read                                                         |                                                              |
| -------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| Method               | GET                                                          | API 요청시 설정, CRUD 의미                                   |
| Route                | /addressbook                                                 | 어떤 자원을 다루는지를 의미<br />오늘 예제에서는 주소록을 다루므로 addressbook으로 정함 |
| 기능                 | 주소록에 등록된 연락처들의 목록을 조회한다                   | API가 무슨 동작을 하는지 설명                                |
| 요청시 필요한 데이터 | 없음                                                         | API를 요청할 때 함께 보내줘야 할 데이터를 의미               |
| Response             | {<br/>    "adrs": [
        {
            "first_name": "sunny",
            "id": 1,
            "last_name": "lee",
            "phone": "01020190124"
        }
    ]
} | 요청이 완료되면 응답으로 보낼 데이터의 형식 의미             |


주소록에 저장된 연락처들의 목록을 조회하는 API입니다. 요청을 보내면 응답이 오는 것을 확인할 수 있습니다. 



![api](/Users/sunny/deveos/posts/img/api.png)

`GET` Method(메소드)로  `http://localhost/addressbook` URI에 Request(요청)을 보내면 데이터베이스에 저장된 연락처 데이터들이 `Response`(응답)으로 옵니다. 





그리고 주소록에서는 전체 목록뿐만 아니라 하나의 연락처 정보도 확인할 수 있죠. 주소록에서 하나의 연락처만 조회하는 API도 만들어줍니다.

| CRUD                 | Read                                                         |                                                              |
| -------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| Method               | GET                                                          | API 요청시 설정, CRUD 의미                                   |
| Route                | /addressbook/:id                                             | 어떤 자원을 다루는지를 의미<br/>오늘 예제에서는 주소록을 다루므로 addressbook으로 정함 |
| 기능                 | 주소록에 등록된 연락처들의 목록을 조회한다                   | API가 무슨 동작을 하는지 설명                                |
| 요청시 필요한 데이터 | id: 데이터베이스에 저장된 해당 연락처의 번호                 | API를 요청할 때 함께 보내줘야 할 데이터를 의미               |
| Response             | {<br/>    "first_name": "sunny",
    "id": 1,
    "last_name": "lee",
    "phone": "01020190124"
} | 요청이 완료되면 응답으로 보낼 데이터의 형식 의미             |


Route에 `:id` 는 **동적 라우팅 파라미터** 라고 합니다. 이는 특정 자원을 호출하는 방법입니다. 



| id   | first_name | last_name | phone       |
| ---- | ---------- | --------- | ----------- |
| 1    | Alice      | Kim       | 01011112222 |
| 2    | Bess       | Park      | 01033334444 |
| 3    | Cathy      | Lee       | 01055556666 |

데이터베이스에 데이터를 저장할 때 검색/조회 속도를 더 빠르게 하기 위해 인덱스를 설정하는데요. 위 테이블에서는 id가 그 역할을 하고 있습니다. 다른 자원들끼리 중복되지 않는 필드입니다.

중복되지 않는 필드를 API에서도 활용합니다. 호출시 중복되지 않는, 그 데이터만이 갖고있는 고유값을 호출할 때 사용하는 거죠. 그 값들은 보통 숫자입니다.



그래서 위에 Route의 `:id`는 테이블의 id 필드입니다. id를 동적 라우팅 파라미터로 사용해서 간단하게 API를 사용할 수 있는겁니다. 

```
http://localhost/addressbook/1
```

그래서 위와 같이 id 값을 1로 넣는다면 아래와 같이 Alice Kim, 01011112222 데이터를 응답으로 받을 수 있습니다.

```
{
    "id": 1,
    "first_name": "Alice",
    "last_name": "Kim",
    "phone": "01011112222"
}
```

∂

![01-03-자원](/Users/sunny/deveos/posts/img/01-03-자원.png)

클라이언트는 응답으로 온 데이터를 이미지와 같이 우리가 실제 서비스에서 보는 것처럼 뿌려줍니다.





---

오늘은 전체 목록을 조회하거나 특정 연락처 하나만 조회하는 GET 요청 실습을 해보았습니다.

다음은 연락처의 정보를 수정하거나 삭제하는 UPDATE, DELETE 요청을 배울 예정입니다.

